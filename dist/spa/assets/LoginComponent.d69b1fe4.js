import{d as h,aE as y,r as p,o as g,c as w,w as n,a,b as i,ax as c,Q as m,aF as _,s as d,ay as f,p as b,e as C}from"./index.5cacb10f.js";import{Q}from"./QForm.da4fc38a.js";import{Q as F}from"./QPage.ca4e0047.js";import{Q as $,_ as V,a as k}from"./DrawerAppBar.9c80f38c.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";const q=o=>(b("data-v-7079aed9"),o=o(),C(),o),B={class:"login-card q-pa-md q-gutter-md"},L=q(()=>i("h2",{class:"text-center"},"Iniciar sesi\xF3n",-1)),S={class:"q-mt-md text-center"},D=h({__name:"LoginComponent",setup(o){const v=y(),l=p("paciente1@example.com"),r=p("pass1"),u=()=>{l.value="",r.value=""},x=async()=>{try{const s=await _.get(`https://18.214.47.239/backend/user.php?table=usuario&email=${l.value}`);if(s.data.usuarios.length>0&&s.data.usuarios[0].pass===r.value){d.addCookie("userData",s.data.usuarios[0]);const e=d.getCookie("userData");if(e.usertype!=="admin"){const t=await _.get(`https://18.214.47.239/backend/user.php?table=${e.usertype}&id=${e.id}`);d.addCookie("userDataCustom",t.data.usuarios[0])}v.push(`/${e.usertype}`)}else u(),f("error","Fallo de autentificaci\xF3n")}catch{f("error","Error de conexi\xF3n")}};return(s,e)=>(g(),w($,{view:"hHh lpR fFf"},{default:n(()=>[a(V),a(k,null,{default:n(()=>[a(F,{class:"flex flex-center"},{default:n(()=>[i("div",B,[L,a(Q,{onSubmit:x,onReset:u,class:"full-width"},{default:n(()=>[a(c,{filled:"",type:"email",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),label:"Email *",class:"q-mt-md"},null,8,["modelValue"]),a(c,{filled:"",type:"password",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),label:"Password *",class:"q-mt-md"},null,8,["modelValue"]),i("div",S,[a(m,{type:"submit",color:"primary",label:"Iniciar sesi\xF3n",class:"full-width"}),a(m,{type:"reset",color:"secondary",label:"Cancelar",to:"/",class:"full-width q-mt-sm"})])]),_:1})])]),_:1})]),_:1})]),_:1}))}});var H=I(D,[["__scopeId","data-v-7079aed9"]]);export{H as default};
